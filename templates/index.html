<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Astra â€“ Smart Study Buddy</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='img/favicon.ico') }}">
</head>
<body>
  <!-- Theme Toggle -->
  <div class="theme-toggle">
    <input type="checkbox" id="themeToggle" />
    <label for="themeToggle" title="Toggle theme">
      <i class="fas fa-moon"></i>
      <i class="fas fa-sun"></i>
    </label>
  </div>

  <!-- Chat Interface -->
  <main class="chat-container glass animate__animated animate__fadeIn">
    <header class="chat-header">
      <img src="/static/img/bot.png" alt="Bot" class="bot-avatar"/>
      <h1>Astra</h1>
      <div class="chat-controls">
        <button id="export-chat" title="Download Chat"><i class="fas fa-download"></i></button>
        <button id="clear-chat" title="Clear Chat"><i class="fas fa-trash"></i></button>
      </div>
    </header>

    <!-- Chatbox -->
    <section id="chatbox" class="chatbox" aria-live="polite">
      <div class="message bot">
        <div class="bubble">ğŸ‘‹ Hi, Iâ€™m <strong>Astra</strong>, your Smart Study Buddy. How can I help you today?</div>
      </div>
      <!-- Typing indicator -->
      <div class="message bot typing-indicator" id="typing-indicator" style="display: none;">
        <div class="bubble typing">
          <span></span><span></span><span></span>
        </div>
      </div>
    </section>

    <!-- Input Area -->
    <form class="input-area" onsubmit="event.preventDefault(); document.getElementById('send-button').click();">
      <button id="mic-button" title="Voice Input" type="button"><i class="fas fa-microphone"></i></button>
      <textarea id="user-input" placeholder="Ask me anything..." required></textarea>
      <button id="send-button" title="Send" type="submit"><i class="fas fa-paper-plane"></i></button>
    </form>

    <!-- Quick Reply Buttons -->
    <div id="quick-replies" class="quick-replies">
      <button onclick="sendQuickReply('Give me a quiz')">ğŸ¯ Quiz</button>
      <button onclick="sendQuickReply('Remind me at 6 PM')">â° Reminder</button>
      <button onclick="sendQuickReply('Suggest study plan')">ğŸ“š Study Plan</button>
    </div>
  </main>

  <!-- Tip -->
  <div class="tip">
    ğŸ’¡ Ask: â€œGive me a quizâ€, â€œRemind me at 6 PMâ€, or â€œHow to study better?â€
  </div>

  <footer class="footer">
    Made with ğŸ’¡ for learners
  </footer>

  <!-- External JS -->
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" defer></script>
  <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
</body>
</html>
